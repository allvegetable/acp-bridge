# 2026-02-18 Memory

## Claude Agent Support Added (Phase 2 continuation)
- `claude-agent-acp` (v0.17.1 from `@zed-industries/claude-agent-acp`) works as standard ACP agent over stdio
- Key difference from codex-acp: uses `protocolVersion: 1` (numeric) instead of date string
- Environment variables needed: `ANTHROPIC_BASE_URL`, `ANTHROPIC_AUTH_TOKEN` (or `ANTHROPIC_API_KEY`)
- Anthropic API proxy: `https://main.codesuc.top/api` with token `[REDACTED]` (provided by Snake)
- daemon.ts updated: added `claude` type candidate (`claude-agent-acp`), relaxed protocol version check to accept `1`
- End-to-end test passed: daemon → claude-agent-acp → codesuc.top proxy → Claude API → "Hello!" response
- Commit pushed to GitHub `allvegetable/acp-bridge`

## acp-bridge Now Supports Two Agent Types
- `codex` → codex-acp (or codex mcp-server fallback) → manyrouter OpenAI proxy
- `claude` → claude-agent-acp → codesuc.top Anthropic proxy

## Key Paths & Versions
- claude-agent-acp binary: `/home/yuhao/.nvm/versions/node/v24.13.1/bin/claude-agent-acp`
- claude-agent-acp source: `/home/yuhao/.nvm/versions/node/v24.13.1/lib/node_modules/@zed-industries/claude-agent-acp/`
- Claude CLI: v2.1.45 at `/home/yuhao/.nvm/versions/node/v24.13.1/bin/claude`
- ACP protocol version for claude-agent-acp: numeric `1` (not date string like codex-acp)

## Next Steps
- Update README.md with Claude support status
- Phase 3: multi-agent parallel task scheduling, task dependency chains, result caching
- PROPOSAL.md also mentions gemini cli support and optional Web UI
